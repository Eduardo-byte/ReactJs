{"ast":null,"code":"import React from 'react';\nconst PRODUCTS = '_PRODUCTS';\nexport function ErrorValidation(errors) {\n  this.errors = errors;\n}\nexport default class ProductService {\n  constructor() {\n    this.validation = product => {\n      const errors = [];\n\n      if (!product.name) {\n        errors.push(\"Name field is required\");\n      }\n\n      if (!product.description) {\n        errors.push(\"Description field is required\");\n      }\n\n      if (!product.sku) {\n        errors.push(\"SKU field is required\");\n      }\n\n      if (!product.price || product.price <= 0) {\n        errors.push(\"Price field needs to be bigger than zero(0)\");\n      }\n\n      if (!product.suplier) {\n        errors.push(\"Suplier field is required\");\n      }\n\n      if (errors.length > 0) {\n        throw new ErrorValidation(errors);\n      }\n    };\n\n    this.save = product => {\n      this.validation(product);\n      let products = localStorage.getItem(PRODUCTS);\n\n      if (!products) {\n        products = [];\n      } else {\n        products = JSON.parse(products);\n      }\n\n      products.push(product);\n      localStorage.setItem(PRODUCTS, JSON.stringify(products));\n    };\n  }\n\n}","map":{"version":3,"sources":["/home/eduardo/react-projects/register-products/src/app/productService.js"],"names":["React","PRODUCTS","ErrorValidation","errors","ProductService","validation","product","name","push","description","sku","price","suplier","length","save","products","localStorage","getItem","JSON","parse","setItem","stringify"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,QAAQ,GAAG,WAAjB;AAEA,OAAO,SAASC,eAAT,CAAyBC,MAAzB,EAAgC;AACnC,OAAKA,MAAL,GAAcA,MAAd;AACH;AAED,eAAe,MAAMC,cAAN,CAAoB;AAAA;AAAA,SAG/BC,UAH+B,GAGjBC,OAAD,IAAa;AACtB,YAAMH,MAAM,GAAG,EAAf;;AAEA,UAAG,CAACG,OAAO,CAACC,IAAZ,EAAiB;AACbJ,QAAAA,MAAM,CAACK,IAAP,CAAY,wBAAZ;AACH;;AACD,UAAG,CAACF,OAAO,CAACG,WAAZ,EAAwB;AACpBN,QAAAA,MAAM,CAACK,IAAP,CAAY,+BAAZ;AACH;;AACD,UAAG,CAACF,OAAO,CAACI,GAAZ,EAAgB;AACZP,QAAAA,MAAM,CAACK,IAAP,CAAY,uBAAZ;AACH;;AAID,UAAG,CAACF,OAAO,CAACK,KAAT,IAAkBL,OAAO,CAACK,KAAR,IAAiB,CAAtC,EAAwC;AACpCR,QAAAA,MAAM,CAACK,IAAP,CAAY,6CAAZ;AACH;;AAED,UAAG,CAACF,OAAO,CAACM,OAAZ,EAAoB;AAChBT,QAAAA,MAAM,CAACK,IAAP,CAAY,2BAAZ;AACH;;AAED,UAAGL,MAAM,CAACU,MAAP,GAAgB,CAAnB,EAAqB;AACjB,cAAM,IAAIX,eAAJ,CAAoBC,MAApB,CAAN;AACH;AACJ,KA7B8B;;AAAA,SA+B/BW,IA/B+B,GA+BvBR,OAAD,IAAa;AAEhB,WAAKD,UAAL,CAAgBC,OAAhB;AAEA,UAAIS,QAAQ,GAAGC,YAAY,CAACC,OAAb,CAAqBhB,QAArB,CAAf;;AACA,UAAI,CAACc,QAAL,EAAe;AACXA,QAAAA,QAAQ,GAAG,EAAX;AACH,OAFD,MAEK;AACDA,QAAAA,QAAQ,GAAGG,IAAI,CAACC,KAAL,CAAWJ,QAAX,CAAX;AACH;;AACDA,MAAAA,QAAQ,CAACP,IAAT,CAAcF,OAAd;AACAU,MAAAA,YAAY,CAACI,OAAb,CAAqBnB,QAArB,EAAgCiB,IAAI,CAACG,SAAL,CAAeN,QAAf,CAAhC;AACH,KA3C8B;AAAA;;AAAA","sourcesContent":["import React from 'react'\n\nconst PRODUCTS = '_PRODUCTS'\n\nexport function ErrorValidation(errors){\n    this.errors = errors;\n}\n\nexport default class ProductService{\n\n\n    validation = (product) => {\n        const errors = []\n\n        if(!product.name){\n            errors.push(\"Name field is required\")\n        }\n        if(!product.description){\n            errors.push(\"Description field is required\")\n        }\n        if(!product.sku){\n            errors.push(\"SKU field is required\")\n        }\n\n\n\n        if(!product.price || product.price <= 0){\n            errors.push(\"Price field needs to be bigger than zero(0)\")\n        }\n\n        if(!product.suplier){\n            errors.push(\"Suplier field is required\")\n        }\n\n        if(errors.length > 0){\n            throw new ErrorValidation(errors)\n        }\n    }\n\n    save = (product) => {\n\n        this.validation(product)\n\n        let products = localStorage.getItem(PRODUCTS)\n        if (!products) {\n            products = []\n        }else{\n            products = JSON.parse(products)\n        }\n        products.push(product);\n        localStorage.setItem(PRODUCTS , JSON.stringify(products))\n    }\n}"]},"metadata":{},"sourceType":"module"}